import { getElement } from "../components/hooks/use-motion-elm.mjs";
import { isSSR } from "../utils/is.mjs";
import { scroll } from "framer-motion/dom";
import { motionValue as motionValue$1 } from "motion-dom";
import { unref, watchEffect } from "vue";
function createScrollMotionValues() {
	return {
		scrollX: motionValue$1(0),
		scrollY: motionValue$1(0),
		scrollXProgress: motionValue$1(0),
		scrollYProgress: motionValue$1(0)
	};
}
function useScroll(scrollOptions = {}) {
	const values = createScrollMotionValues();
	watchEffect((onCleanup) => {
		if (isSSR) return;
		const cleanup = scroll((_progress, { x, y }) => {
			values.scrollX.set(x.current);
			values.scrollXProgress.set(x.progress);
			values.scrollY.set(y.current);
			values.scrollYProgress.set(y.progress);
		}, {
			offset: unref(scrollOptions.offset),
			axis: unref(scrollOptions.axis),
			container: getElement(scrollOptions.container),
			target: getElement(scrollOptions.target)
		});
		onCleanup(() => {
			cleanup();
		});
	}, { flush: "post" });
	return values;
}
export { useScroll };
